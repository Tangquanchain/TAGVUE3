(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1d02324"],{8418:function(t,e,a){"use strict";var s=a("c04e"),r=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var o=s(e);o in t?r.f(t,o,i(0,a)):t[o]=a}},"942d":function(t,e,a){},"979e":function(t,e,a){"use strict";var s=a("942d"),r=a.n(s);r.a},"99af":function(t,e,a){"use strict";var s=a("23e7"),r=a("d039"),i=a("e8b5"),o=a("861d"),n=a("7b0b"),c=a("50c4"),d=a("8418"),l=a("65f0"),u=a("1dde"),h=a("b622"),v=a("60ae"),f=h("isConcatSpreadable"),_=9007199254740991,p="Maximum allowed index exceeded",b=v>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=u("concat"),m=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:i(t)},C=!b||!g;s({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,s,r,i,o=n(this),u=l(o,0),h=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?o:arguments[e],m(i)){if(r=c(i.length),h+r>_)throw TypeError(p);for(a=0;a<r;a++,h++)a in i&&d(u,h,i[a])}else{if(h>=_)throw TypeError(p);d(u,h++,i)}return u.length=h,u}})},"9db3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container mt-5 mb-5",staticStyle:{border:"3px solid #1c1e1b"}},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row justify-content-center"},[a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[t._m(0),a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.order.products,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right font-weight-bold",attrs:{colspan:"2"}},[t._v("TOTAL")]),a("td",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t.order.total))])])])]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("Name")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("Phone")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("Address")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("payment status")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("PAID")]):a("span",{staticStyle:{color:"#faabab"}},[t._v("UNPAID")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-size",staticStyle:{"border-radius":"20px"}},[t._v("CONFIRM TO PAY")])]):t._e()])])],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main mt-4 mb-5"},[a("ul",{staticClass:"list-unstyled breakcrumb"},[a("li",{staticClass:"breakcrumb-txt"},[a("span",{staticClass:"p-5"},[a("i",{staticClass:"fa fa-check text-dark",staticStyle:{"line-height":"0"},attrs:{"aria-hidden":"true"}})]),t._v(" CART ")]),a("li",{staticClass:"breakcrumb-txt"},[a("span",{staticClass:"p-5 text-dark"},[t._v("1")]),t._v(" INFORMATION ")]),a("li",{staticClass:"breakcrumb-txt"},[a("span",{staticClass:"p-5"},[t._v("2")]),t._v(" COMPLETE ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Name")]),a("th",[t._v("Acount")]),a("th",[t._v("Price")])])])}],i=(a("99af"),{data:function(){return{isLoading:!1,order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this;t.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("tang","/order/").concat(t.orderId);this.$http.get(e).then((function(e){t.isLoading=!1,console.log(e.data),t.order=e.data.order}))},payOrder:function(){var t=this;t.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("tang","/pay/").concat(t.orderId);this.$http.post(e).then((function(e){e.data.success&&(t.isLoading=!1,t.getOrder(),window.setTimeout((function(){t.$router.push("/checkout/complete")}),5e3)),console.log(e.data),console.log("付款成功")}))}},created:function(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}}),o=i,n=(a("979e"),a("2877")),c=Object(n["a"])(o,s,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-d1d02324.c48c256b.js.map